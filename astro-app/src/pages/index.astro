---
import bg from '@/shared/assets/bg.webp'
import CommentsBlock from '@/widgets/comments-block.astro'
import ElixorIcon from '@/features/elixor-icon'
import ShortyBlock from '@/widgets/shorty-block'
import YoutubeVideo from '@/widgets/youtube-video'
import MainLayout from '@/app/layouts/main-layout.astro'

import { getLangFromUrl, useTranslations } from '@/shared/i18n'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<MainLayout>
  <div class="mx-auto h-full w-full antialiased">
    <div class="relative h-[400px] w-full md:h-[700px]">
      <img
        src={bg.src}
        class="fixed inset-x-0 top-0 -z-20 mx-auto h-full w-full bg-fixed object-cover invert transition-all ease-out dark:invert-0"
        alt="bg"
      />
      <div
        class="mx-auto flex h-full w-full max-w-screen-2xl items-center justify-items-center md:justify-items-start"
      >
        <div
          class="mx-auto flex max-w-lg flex-col items-center gap-8 overflow-hidden px-10 md:mx-0 md:max-w-3xl md:items-start"
        >
          <p
            class="w-full animate-appear text-center text-4xl font-extralight uppercase tracking-tighter text-white md:text-left md:text-7xl"
          >
            {t('home.slogan')}
          </p>
          <a href="#about">
            <button
              type="button"
              class="w-fit animate-appear border-2 p-2 px-4 transition hover:bg-white/[.2]"
            >
              <p class="text-2xl uppercase text-white">
                {t('home.sloganButton')}
              </p>
            </button>
          </a>
        </div>
      </div>
    </div>
    <div class="w-full bg-white py-20 lg:py-40 dark:bg-stone-950" id="about">
      <div class="mx-auto flex max-w-screen-2xl flex-col items-center lg:gap-6">
        <ElixorIcon class="h-16 w-40 md:w-80 dark:fill-white" />
        <p
          class="max-w-xl px-10 text-center text-lg font-light tracking-tighter md:text-2xl"
        >
          {t('home.aboutBlock')}
        </p>
        <YoutubeVideo />
        <div class="mx-auto max-w-screen-xl px-4">
          <CommentsBlock />
        </div>
      </div>
    </div>
    <div class="mx-auto w-full bg-white text-center dark:bg-stone-950">
      <p class="text-2xl font-extralight uppercase lg:text-5xl">
        {t('home.projectsTitle')}
      </p>
    </div>
    <div class="w-full bg-white dark:bg-stone-950">
      <div class="overflow-hidden py-10 md:py-32">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
          <ShortyBlock blockText={t('home.shortyBlock')} />
        </div>
      </div>
    </div>
  </div>
</MainLayout>
